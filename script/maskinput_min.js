'use strict';let input=document.querySelector(".feedback-form-tel"),caretPosition=4;function setCaretPosition(a,b){if(b===-1)return-1;b<4&&(b=4);setTimeout(()=>a.setSelectionRange(b,b),0);return b}
function pressingKey(a){if(a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105)(a.keyCode==56||a.keyCode==104)&&input.value.indexOf("_")==4||(a.keyCode==55||a.keyCode==103)&&input.value.indexOf("_")==4?console.log("\u041f\u0435\u0440\u0432\u0430\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c 7"):(a=input.value.replace("_",a.key),input.value=a,setCaretPosition(input,input.value.indexOf("_")));else if(a.keyCode=="8"||a.keyCode=="46")a.preventDefault(),setCaretPosition(input,
input.value.search(/\d(?!.*\d)/)+1),caretPosition!=4&&(input.value=replaceChar(input.value,input.value.search(/\d(?!.*\d)/),"_")),caretPosition=setCaretPosition(input,input.value.search(/\d(?!.*\d)/)+1)}const replaceChar=(a,b,c)=>a.substring(0,b)+c+a.substring(b+1);input.addEventListener("focus",()=>{input.value===""&&(input.value="+7 (___) ___-__-__");setCaretPosition(input,input.value.indexOf("_"));input.addEventListener("keydown",pressingKey)});
input.addEventListener("blur",()=>{input.value==="+7 (___) ___-__-__"&&(input.value="");input.removeEventListener("keydown",pressingKey)});